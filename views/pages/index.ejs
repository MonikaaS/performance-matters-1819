<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head %>
</head>
<body class="container">

<header>
    <% include ../partials/header %>
</header>

<main>
<form action="/search" method="post">
<label>
    <input class="veld" type="text"  name="userSearchInput" placeholder="Search a house" required>
    <button class="button" type="submit">go!</button>
</label>
</form>

<div id="container">
<% data.forEach(function(house) { %>
<div class='card'>
<a href='/<%= house.name %>'><%= house.name %></a>
<picture>
  <source srcset="Game_of_Thrones_logo_logotype_wordmark.webp" type="image/webp">
  <source srcset="Game_of_Thrones_logo_logotype_wordmark.png" type="image/jpeg"> 
  <img src="Game_of_Thrones_logo_logotype_wordmark.png" alt="Alt Text!">
</picture>
<p>region: <%= house.region %> </p>
</div>
<% }); %>
</div>
</main>

<script async src="./js/jquery-3.3.1.min.js"></script>
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
      return registration.update()
    }, function(err) {
      // registration failed :(
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
</script>
</body>
</html>